# 要求内容

## 概要

NPB準拠のスコアブックUIを実装する。打席セルにダイヤモンド（菱形）を描画し、打順×イニングのグリッド形式でスコアを視覚化する。

## 背景

機能1〜4（試合設定・スコア入力・走者進塁・選手交代）が完成し、データ記録の基盤は整った。しかし現在のUIは入力パネルと打席ログのみで、紙のスコアブックのような一覧性がない。スコアラーが「どのイニングで誰が何をしたか」を一目で把握できるNPB準拠の視覚的スコアブックが必要。

## 実装対象の機能

### 1. ダイヤモンド描画コンポーネント（Diamond）
- SVGで菱形（ベースパス）を描画する
- 打席結果から走塁経路を推定し、色付きのパスで表示する

### 2. 打席セルコンポーネント（ScoreCell）
- 1打席分の情報を表示する正方形のセル
- 中央にダイヤモンドを配置
- 結果・投球数をセル内に表示
- 現在打席中の打者をハイライト表示

### 3. スコアシートコンポーネント（ScoreSheet）
- 打順（行）×イニング（列）のグリッド
- 選手名・守備位置を左端に表示
- 横スクロールでイニングを追える

### 4. 塁上走者インジケーター
- 現在のイニングの塁上走者状況（一・二・三塁）をリアルタイムで表示

### 5. ScoreInputPageへの統合
- 既存の入力パネルの上にScoreSheetを配置
- スコアシートと入力パネルを縦に並べるレイアウト

## 受け入れ条件

### ダイヤモンド描画
- [ ] 菱形（ホーム→一塁→二塁→三塁→ホーム）がSVGで描画される
- [ ] 打席結果に応じて走塁経路が色付きで表示される（単打=1塁、二塁打=2塁まで等）
- [ ] アウトの場合は特別な表示（×印など）がされる

### 打席セル
- [ ] セルサイズはタブレット（iPad 10インチ）で快適なサイズ（最小80×80px）
- [ ] 現在の打者セルがハイライトされる
- [ ] 完了した打席は結果と投球数が表示される
- [ ] 未到達のイニングはグレーアウト

### スコアシート
- [ ] 打順（1〜9）と選手名が左端に固定表示される
- [ ] イニングが列として横スクロールで表示される
- [ ] 現在のイニングが自動でスクロールして表示される

### 塁上走者
- [ ] 一塁・二塁・三塁の占有状況がリアルタイムで視覚的に表示される

## 成功指標

- 紙のスコアブックを見慣れたユーザーが直感的に理解できるレイアウト
- タブレット上でのタッチ操作が快適（セルサイズ最低80px）
- 横スクロールで全イニングが確認できる

## スコープ外

以下はこのフェーズでは実装しません:
- 投手交代の視覚的表示（イニング内の区切り線など）
- 打席ごとのB-S-F内訳の詳細表示（投球数の合計のみ）
- 代打・代走の視覚的マーカー（選手名で識別）
- 走者経路のドラッグ入力（別の走者進塁機能で対応）

## 参照ドキュメント

- `docs/product-requirements.md` - 機能5「スコアブックUI（NPB準拠レイアウト）」
- `docs/functional-design.md` - コンポーネント設計（components/scorebook/）
